<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1750.6065076920886 1002.3333333333335" width="3501.213015384177" height="2004.666666666667">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <rect x="0" y="0" width="1750.6065076920886" height="1002.3333333333335" fill="#ffffff"></rect><g transform="translate(996.2731743587553 466.8333333333335) rotate(0 106.5 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">current block storage</text></g><g transform="translate(975.2731743587553 422.3333333333335) rotate(0 130.5 76)"><path d="M-0.7803572496442198 -1.6753447761376024 C64.69720155354247 0.7216157200906836, 127.19359351011052 3.3942322168088994, 264.18831921162325 -2.3427021340298295 M1.4905430348241508 0.8925363965833009 C73.5651804958495 1.8464340949121463, 145.42656075977402 1.5960309825851426, 260.3638003763187 -1.0184091194992722 M260.30044481903315 -0.2281404510140419 C262.3275370204449 42.18210111856461, 260.02210255503655 86.70991928726436, 261.36143634468317 150.89379420131445 M260.24913484975696 -1.0116673819720745 C260.4552730865777 53.95434369966388, 257.31885343268516 110.33281892314554, 261.5875565521419 153.9423284418881 M259.57877828786263 150.84678461781306 C203.9692541923847 153.42405377683616, 155.16435495731935 152.05256419291473, 0.3020068086271882 150.03407044300187 M261.35929211887225 153.13804928147442 C197.76512146947218 149.0301751190131, 136.55820783820567 147.69779374602936, -1.138303894577056 153.46323927092163 M3.028495527803898 148.5076226219535 C1.3468050903081892 124.01522963941096, 1.1690409129858015 87.74929997473954, 2.7068729177117348 -0.5373891368508339 M-0.851451326161623 151.5930348522961 C0.5133715404570103 90.86206448301672, 1.4025942815840244 30.91489614620805, 0.07171006128191948 1.5163681395351887" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(112.27317435875534 164.33333333333348) rotate(0 93 44.5)"><path d="M-3.7972381338477135 -0.4819589629769325 C73.34782491140069 0.7279269508272415, 146.5282654590905 6.289445858374238, 188.62959811836484 -2.6692284122109413 M0.6933315508067608 -0.1927110068500042 C65.23719921372832 2.0133551693707705, 127.69739912152292 -0.7458150052279233, 186.6134793274105 1.2606134302914143 M186.7603106275201 -3.0456989780068398 C182.26791702259334 25.447247973643243, 187.19379816997798 41.22158988378942, 189.13243649154904 86.84188356250525 M185.5038268081844 1.223857868462801 C185.30566480662677 30.764156125672162, 185.430357365869 59.97289997003973, 186.62949139997366 87.17936812713742 M183.14883015304807 92.1803177818656 C124.72620346434417 94.69484039448201, 67.42538005933166 92.63039799831807, 1.5133647695183754 92.63078942149878 M184.9349084608257 87.96631251648068 C139.13331501074137 90.79531440876424, 95.96655966490508 87.45691297195852, 1.4671396724879742 89.29913066700101 M2.093173958361149 88.60014405101538 C1.9675655848905442 68.60279609505088, -1.7860118858888747 39.91760481633246, 0.161298967897892 2.0624793991446495 M-1.63561587408185 88.18614219501615 C-0.9411070245131851 65.00833958666772, -0.6958013671264053 44.03438295610249, 0.6097005121409893 -1.1465784423053265" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(123.27317435875534 196.33333333333348) rotate(0 80 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">apply transaction</text></g><g transform="translate(105.27317435875534 765.8333333333335) rotate(0 93 44.5)"><path d="M-0.6310885921120644 0.7225701585412025 C37.55334677882494 -0.8108592907339336, 79.64271226450803 -1.8533085266500713, 188.8371976837516 2.3693923726677895 M-1.4786598794162273 -0.39103930070996284 C41.70929329730571 -1.6608242667466402, 82.65626823306086 -1.130762902572751, 184.11362253502014 -1.3266120441257954 M182.38888873904946 0.0483226552605629 C182.2972538323328 19.523300825990738, 188.69672440003606 47.10665454603732, 186.7779742702842 90.59600088745356 M185.80272756889465 1.4624781124293804 C185.1395264366642 27.408725319616497, 187.84565777573738 55.01800887323916, 187.1207065470517 90.6257327310741 M189.2691794857383 87.56295607239008 C133.02721673958004 85.4607591149956, 77.25219582691788 88.6700036046654, -0.4563361182808876 85.19923446327448 M187.66183184459808 87.2849705927074 C144.81796881966295 88.13983466126025, 98.75290294438601 90.23508920170367, -1.2201517932116985 87.05278987810016 M2.827898882329464 90.50694892555475 C-1.6704532385990023 73.78150782939046, 1.8725872753933073 49.11024306379258, -3.8366807475686073 -0.416365884244442 M-1.5193890444934368 90.57143325731158 C-2.0258181846514347 67.73261094111949, -0.3149337327852846 44.47064333073794, 0.4300367720425129 -1.6949767358601093" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(144.27317435875534 81.33333333333348) rotate(0 64.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">begin block</text></g><g><g transform="translate(204.97888723217943 124.33333333333348) rotate(0 -1.8357533511860424 19.840291825532915)"><path d="M0.6001406706869603 0.5903147302567957 C-0.30930997944022154 7.120112641900778, -2.455123324997472 35.18596338455876, -3.272625275173482 41.23812330588699 M-2.51859289303422 -1.5575396548211575 C-3.7921867081139977 4.030876163393258, -3.7857801509968914 30.703648899942635, -4.271647373059091 37.44243626967072" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(204.97888723217943 124.33333333333348) rotate(0 -1.8357533511860424 19.840291825532915)"><path d="M-9.543784315475094 21.925928647492356 C-4.643160914753199 27.526560977823557, -8.435103326455515 29.683712511872965, -2.555388083147051 38.201364299860685 M-11.393248016269318 20.296473635388264 C-7.640470531637918 24.52265048837849, -5.283051065203294 27.64840911409688, -5.804846489425221 37.19107073951274" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(204.97888723217943 124.33333333333348) rotate(0 -1.8357533511860424 19.840291825532915)"><path d="M3.9218182990797685 22.3846342277215 C3.725658750469391 27.869597816256945, -5.156319261711271 29.85335735290842, -2.5553880831470503 38.201364299860685 M2.0723545982855445 20.755179215617407 C2.416209324233935 24.91939582470632, 1.3684554615499442 27.929157264674863, -5.804846489425221 37.19107073951274" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(140.27317435875534 787.3333333333335) rotate(0 52.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">end block</text></g><g transform="translate(527.9398410254221 10) rotate(0 192 413.16666666666674)"><path d="M1.7246390354496326 0.608384189234653 C83.01784356220183 0.5491759971518724, 163.7126821546126 1.5359079079118936, 383.0990724190739 1.3271123116514352 M0.5692393732645108 -0.7323779487929178 C127.00915547000653 -1.3819902397988153, 254.93739112261557 -2.174108023840172, 384.33046155636475 -0.47813912020409843 M383.9789483934641 1.4179009050130844 C384.23234455622736 305.8011369991427, 385.3665275815875 610.1957592016707, 384.18179043829446 827.1395802428326 M383.4173687741161 0.6080953553318977 C381.5517578961105 245.2171885636325, 382.4625907303543 490.6661209442964, 384.6692520424724 826.1986755167446 M384.631186057207 828.0571551699973 C232.7697797597923 826.9196215919222, 83.29061628252833 825.4387927847562, -2.3615883566603326 825.832092182386 M383.1891071518711 826.1506740993926 C251.10530750806132 828.5234092460526, 120.06472047568495 827.8146449071559, 0.6002658572032525 825.8345743915404 M1.4800380617380142 826.0506114890179 C5.352350052063665 590.5700112195686, 4.265530880158147 353.93810174601776, 1.3136235147714617 -1.2793184667825699 M-0.20109140425920488 826.6501583372554 C0.35557173350950116 597.6304698430623, -0.9919908179889121 369.25228067748253, 0.5787307068705559 -0.09004865139722824" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(547.9398410254221 31.6666666666668) rotate(0 59 18)"><text x="0" y="25" font-family="Virgil, Segoe UI Emoji" font-size="28px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">write log</text></g><g><g transform="translate(317.77317435875534 238.98876161634007) rotate(0 133.08004878063184 8.360905708014712)"><path d="M0.4044835411012171 -2.3749875031411647 C44.853428459231004 1.180962501843684, 224.29757646652035 16.192650214234558, 268.9805614542302 19.096798919170578 M-2.820463892966509 2.5074226136505606 C41.06466399457449 5.491489067355706, 221.94722794246644 12.759045608837969, 266.83930910759534 15.184774507611474" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(317.77317435875534 238.98876161634007) rotate(0 133.08004878063184 8.360905708014712)"><path d="M234.80942593743808 24.379180056152247 C252.16643508913003 20.201256640507445, 257.3151931560734 20.746916712412876, 268.4573738911089 16.789939489989955 M238.65394587671167 23.20116873189559 C247.96711844841926 19.91570293292032, 259.1992499133932 17.692312522781464, 266.50002479561533 13.591750920593222" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(317.77317435875534 238.98876161634007) rotate(0 133.08004878063184 8.360905708014712)"><path d="M235.76283982170696 3.8801311916043417 C252.42813112286825 7.528930927558202, 257.21299521979466 15.898559578033405, 268.4573738911089 16.789939489989955 M239.60735976098056 2.702119867347683 C248.61649665193679 7.0761080898082245, 259.4930318056954 12.498280933917542, 266.50002479561533 13.591750920593222" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(316.27317435875534 189.33333333333348) rotate(0 94 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">read &amp; write storage</text></g><g transform="translate(542.6065076920888 159.33333333333354) rotate(0 178.5 29.5)"><text x="0" y="15.666666666666668" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">For each transaction store a hash map </text><text x="0" y="35.333333333333336" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">from DB keys to values of </text><text x="0" y="55" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">`Update(value) | Delete`</text></g><g transform="translate(617.939841025422 382.0000000000001) rotate(0 77.49999999999994 34)"><text x="0" y="14" font-family="Cascadia, Segoe UI Emoji" font-size="13.948717948717952px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">try to find in the </text><text x="0" y="31" font-family="Cascadia, Segoe UI Emoji" font-size="13.948717948717952px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">write log first,</text><text x="0" y="48" font-family="Cascadia, Segoe UI Emoji" font-size="13.948717948717952px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">if no entry found,</text><text x="0" y="65" font-family="Cascadia, Segoe UI Emoji" font-size="13.948717948717952px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">read storage</text></g><g><g transform="translate(802.523017632378 420.3374471143494) rotate(0 84.21948060417628 7.280322895353493)"><path d="M0.02796390876173982 0.24583983793854713 C28.25641985861611 2.814526022277107, 143.42284834127383 10.569935449966938, 171.84034110549996 12.934688172798337 M-3.401379897147417 -2.0890152029693128 C24.278989918114263 1.2005347241976163, 141.2747719430999 14.66745252769108, 169.89266144219945 16.649660993676367" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(802.523017632378 420.3374471143494) rotate(0 84.21948060417628 7.280322895353493)"><path d="M141.20204609475135 24.935186299819414 C152.4833557098944 20.141793617641788, 165.89977680561518 16.18498947035684, 173.35387111935924 12.701987173717203 M142.4046933896005 25.922755963493053 C149.96234406964751 21.938156213668947, 160.45155117153703 18.10479984725143, 169.04117129106234 18.368575454067173" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(802.523017632378 420.3374471143494) rotate(0 84.21948060417628 7.280322895353493)"><path d="M143.16181258171065 4.507770464662226 C153.3208585323493 7.6446960019958965, 165.97649789943142 11.617818626141986, 173.35387111935924 12.701987173717203 M144.3644598765598 5.495340128335865 C151.6119739630496 8.584216845552337, 161.42324704234298 11.817233070218155, 169.04117129106234 18.368575454067173" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(85.27317435875534 388.3333333333335) rotate(0 83 36.5)"><path d="M-0.5948579534888268 -2.3882728591561317 C55.28113170154393 -5.22532207943499, 104.30480354651809 1.5833586933463812, 164.93375442177057 3.2596932873129845 M-0.02424495294690132 1.6718763001263142 C35.05777172036469 -0.6822612593322988, 71.32028079479933 -1.22297135092318, 164.86967296525836 1.9837059862911701 M166.48560950905085 0.856611393392086 C164.00361919093876 22.754771382175388, 170.20919394183903 40.025146641954784, 164.10306618362665 74.1077498421073 M165.87562103196979 0.10283421352505684 C166.773045133017 21.359821088798345, 166.37288112487644 43.294530894979836, 167.4735909216106 72.70737706497312 M166.54841492325068 73.53676023334265 C124.12730614952743 73.56868067421019, 89.87780534699559 76.78069701828062, 2.770585037767887 75.91035809367895 M164.57820231840014 73.40411149337888 C123.79940598867833 73.20732082732022, 82.45085791945456 74.0258560360223, -1.9031010158360004 72.41086458042264 M-1.9628381952643394 76.83747639507055 C-0.8292260991409421 40.609449818171555, 4.261343158595264 18.846900231018658, 0.04397699981927872 2.8137582764029503 M1.8519315235316753 71.58657239750028 C-0.06489924665540459 52.85793676953763, -1.8298017191514373 31.31117446310818, -0.8865014798939228 -0.3129359595477581" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(136.27317435875534 411.3333333333335) rotate(0 41 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">run VPs</text></g><g><g transform="translate(197.55946927766377 254.33333333333348) rotate(0 -0.40424678364507827 12.29984143845735)"><path d="M-1.2484159387648104 -0.6857801161706449 C-1.9570896861031595 4.022820731376604, -3.845184071399245 23.94831590540705, -4.108074585095016 28.12605458050964 M3.269348338097334 -3.5263717035949234 C3.4615304625953294 0.42268522279957477, 2.729584002358245 19.218004253183782, 1.3754088575691306 24.23531542152164" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(197.55946927766377 254.33333333333348) rotate(0 -0.40424678364507827 12.29984143845735)"><path d="M-1.9971545653627356 9.854454882934276 C1.3944799038412705 14.983097985876833, -1.2732820970029082 20.44874167774525, 1.7761363728511426 24.594181357641574 M-0.20123380464478657 12.506831917606213 C0.2755296605095928 16.399049804938024, -0.4634105266118391 19.33079534694547, 1.571899674537316 23.304934546843548" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(197.55946927766377 254.33333333333348) rotate(0 -0.40424678364507827 12.29984143845735)"><path d="M6.869038452329986 11.093125323633492 C7.556338443351374 15.764736290198034, 2.1831311379025893 20.85240996482738, 1.7761363728511426 24.594181357641574 M8.664959213047934 13.74550235830543 C6.375565683681882 17.25217494225331, 2.8577920954266918 19.79569762618138, 1.571899674537316 23.304934546843548" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(164.4483316515781 469.9442919133676) rotate(0 1.0417322022547637 17.09948538252172)"><path d="M-1.9826243840157984 0.738359173387289 C-1.866257904790162 6.197375888455106, -1.9460865667577532 27.052159441650875, -0.8895454761226116 32.34651017161127 M2.1365695939958096 -1.3291282282769683 C3.222495809473277 4.574583765594356, 3.7637445737803032 29.43114435418543, 4.066088788525349 35.52809899332043" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(164.4483316515781 469.9442919133676) rotate(0 1.0417322022547637 17.09948538252172)"><path d="M-1.2991570012491325 16.975014057259564 C-1.6800059580711524 27.032199445228343, 0.0258447764269083 27.65408965126354, 2.436013244775646 38.71500275156875 M-0.8840546751498612 20.15420619719294 C0.39264070845719945 23.732512381087798, 1.4830653964109435 27.511707243318043, 5.604059820723224 34.35429171096046" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(164.4483316515781 469.9442919133676) rotate(0 1.0417322022547637 17.09948538252172)"><path d="M10.054897420873328 16.564313024194277 C6.910469860218486 26.560628247927525, 5.853937688618412 27.282439897975344, 2.436013244775646 38.71500275156875 M10.4699997469726 19.743505164127654 C8.666833127184093 23.655115626435176, 6.68511567776309 27.545436602970877, 5.604059820723224 34.35429171096046" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(101.27317435875534 514.3333333333335) rotate(0 68 45)"><path d="M72.22988674789667 -2.136792279779911 C86.97928355079145 11.58654472772032, 110.43864302247763 26.23701728116721, 135.3852538838983 43.59022965282202 M70.84047086164355 1.3689623959362507 C86.61820250783117 12.393508862666787, 103.97636447414757 23.602179298140108, 135.13695378229025 45.8960249312222 M132.40988729149106 43.66944756358862 C109.55815180566164 62.737881431765864, 84.88699520982803 77.76120622012766, 65.20829794555902 92.75013007968667 M135.30006737634542 47.55232356861234 C116.03173038590701 59.818554559610796, 95.48588286437095 70.98583346854898, 67.63678390905261 90.19607387855652 M69.83345625549555 89.76690902560952 C43.25664032641799 72.16634314190598, 27.57662974558771 58.15213164146991, 3.2126545682549477 44.04866423457861 M69.01379520818591 91.90849434211853 C50.58033993314952 75.52260714624079, 30.532614359781142 64.05985063243659, 0.5214826576411724 46.48936699703336 M2.491072155535221 44.54401984065771 C12.731910727508366 33.53489918019623, 26.027313391268255 28.94145784098655, 67.55286476761103 1.335197351872921 M-0.8983505256474018 45.721776474267244 C27.53674790110439 29.862631871290503, 53.737665881365544 13.45968947794288, 67.7665138952434 -1.6077627055346966" stroke="#000000" stroke-width="1" fill="none"></path></g><g><g transform="translate(242.45001231327444 565.40995813977) rotate(0 133.0601031504271 -8.180577544785308)"><path d="M-1.3562007822096347 -1.167958041280508 C43.49010181450835 -3.0436590741795913, 222.81550614853657 -8.777773358783433, 267.4764070830638 -10.443776668293845 M3.1030517224967484 -4.270303359478713 C47.929068833629216 -7.1333457581920054, 222.73972062071127 -14.540987016520212, 266.4855523375566 -15.193197048290145" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(242.45001231327444 565.40995813977) rotate(0 133.0601031504271 -8.180577544785308)"><path d="M236.95884610927556 -0.7792319471736899 C246.01457162109062 -4.451146805013199, 251.74987293696674 -7.202033050131563, 262.81176297792746 -16.67937570719279 M239.5707428290591 -5.91267127569518 C245.133792787609 -7.668355494682331, 249.8338991519481 -6.798929940140582, 268.0438296949263 -15.586879457368028" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(242.45001231327444 565.40995813977) rotate(0 133.0601031504271 -8.180577544785308)"><path d="M236.32092655424083 -21.29052300910208 C245.65027869668495 -19.97597649108145, 251.54047124350038 -17.746580981764847, 262.81176297792746 -16.67937570719279 M238.93282327402437 -26.42396233762357 C244.57787973805074 -23.730076766116035, 249.416254465993 -18.41485137970116, 268.0438296949263 -15.586879457368028" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(116.77317435875534 546.3333333333335) rotate(0 51.5 10)"><text x="51.5" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="middle" style="white-space: pre;" direction="ltr">any reject?</text></g><g transform="translate(239.60650769208848 578.3333333333336) rotate(0 125 25)"><text x="0" y="12.666666666666668" font-family="Cascadia, Segoe UI Emoji" font-size="13.333333333333332px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">yes - clear current tx write log</text><text x="0" y="29.333333333333336" font-family="Cascadia, Segoe UI Emoji" font-size="13.333333333333332px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">no - merge current tx write log </text><text x="0" y="46" font-family="Cascadia, Segoe UI Emoji" font-size="13.333333333333332px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">to block write log</text></g><g><g transform="translate(171.05308833255725 606.1526282888045) rotate(0 4.853278539840176 11.321631011018553)"><path d="M-2.284985776990652 -0.9484411157667636 C-1.3351799404906597 3.224033868594104, 5.167663418110527 19.288895412699055, 6.784434230603358 23.194393214035834 M1.6700691591203212 -3.9316201029717925 C3.3894731840205825 0.8483404840858126, 11.477244270003157 21.759530455187633, 11.991542856670996 26.57488212500891" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(171.05308833255725 606.1526282888045) rotate(0 4.853278539840176 11.321631011018553)"><path d="M3.83036631410107 14.25638104341687 C6.611829419038117 18.445314533437934, 8.444807092770482 23.16482011651992, 11.637029622236433 28.17920272428691 M3.5225136387140408 16.329302690676418 C5.781884176252801 17.861425413128007, 7.345782477524981 19.972160904834038, 13.185657648203861 27.06953665697428" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(171.05308833255725 606.1526282888045) rotate(0 4.853278539840176 11.321631011018553)"><path d="M12.178873841711635 11.978022924218218 C12.102149792667358 16.8025402637851, 11.106891879900871 22.293888417553553, 11.637029622236433 28.17920272428691 M11.871021166324605 14.050944571477764 C12.42442195855256 15.916541554775742, 12.269824582539066 18.496264894453716, 13.185657648203861 27.06953665697428" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(65.27317435875534 648.3333333333335) rotate(0 17.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">yes</text></g><g><g transform="translate(195.19245166434473 715.801852979925) rotate(0 -2.5279372523586687 21.885228183683466)"><path d="M-1.9666260205209254 0.19536343440413484 C-2.4947189892782373 7.64111414664875, -4.330541978008352 36.31540754109077, -4.9727897624394926 43.794050861977965 M2.1612527833878996 -2.1668930827081203 C1.422311225687106 5.593287405410315, -5.5079240421720375 37.679121629192956, -7.217127288105253 45.93734945007506" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(195.19245166434473 715.801852979925) rotate(0 -2.5279372523586687 21.885228183683466)"><path d="M-10.249234247509474 22.758574452366123 C-13.804607801012711 27.05076858777755, -11.205793832598482 36.6635375602038, -4.769913183870081 47.40937498607579 M-10.76227588907265 21.725494556243905 C-9.428103345754327 30.918155540278185, -9.926369619466032 37.69790379403503, -7.956383718522552 45.29019677662197" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(195.19245166434473 715.801852979925) rotate(0 -2.5279372523586687 21.885228183683466)"><path d="M5.413763146010497 26.049084565221367 C-1.8105414648558202 29.346132517861165, -2.9013524170504192 38.18377858061184, -4.769913183870081 47.40937498607579 M4.90072150444732 25.01600466909915 C1.5070329175010917 33.202980312456916, -3.74677321945616 38.98367636573458, -7.956383718522552 45.29019677662197" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(92.27317435875534 898.3333333333335) rotate(0 94.5 47)"><path d="M2.4547080770134926 3.2135855183005333 C44.66099002640694 5.518248135484755, 83.8643194001168 2.7234666890278456, 186.62024519592524 -1.1441474929451942 M0.18953747674822807 1.1635401137173176 C71.44116824958473 1.6196817700192332, 140.4896244313568 0.16811733882874247, 188.63028843328357 1.6529630310833454 M192.41971991211176 1.2998775467276573 C192.41427655272184 21.86192351318896, 189.2090312962979 41.106975766271354, 188.3750290647149 94.02798285335302 M188.54123527929187 -1.0318333022296429 C188.9643259110302 26.88928577490151, 189.15500891827048 48.635466650128365, 187.31408996507525 93.43670414760709 M189.96838805824518 95.05995955318213 C118.77875026483089 95.87799547906965, 52.906960676983005 91.4255144476518, 1.2527758851647377 94.74475278705359 M189.23287982866168 95.34220932796597 C143.7170414900407 90.91730735529214, 94.72434691973031 92.95316205251962, 0.6052942983806133 92.16107713058591 M3.630253531038761 97.96819677203894 C-2.3885330890864136 57.77360883913934, 0.5319388175755739 21.30841391161084, 0.19708917289972305 1.6914650425314903 M-1.947565007954836 95.08950101211667 C-2.305567629858851 64.4255573567003, -0.8851406650990246 35.98926339000463, 1.022334050387144 1.0869462378323078" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(114.27317435875534 930.3333333333335) rotate(0 70.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">commit block</text></g><g><g transform="translate(217.9501867371498 861.3333333333335) rotate(0 0.6704084677814421 17.803084351271423)"><path d="M0.6778716407716274 0.7419716872274873 C0.8292636838992166 7.005413496245941, -1.4465056193670989 31.417887516568108, -1.6393938191594315 36.92972333803773 M-2.398665110617876 -1.3235546354949475 C-1.120315765396781 4.215816529144842, 3.7864450483718155 26.699569941709438, 3.739482046180801 32.96661917641759" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(217.9501867371498 861.3333333333335) rotate(0 0.6704084677814421 17.803084351271423)"><path d="M-3.1823658742904035 14.969317337876603 C-0.1297819375653546 19.650458921257012, -2.385216254760178 24.921815627422, 4.391156738376572 31.183136259127473 M-2.9353912562667763 18.88843234898803 C-3.5719120596230716 20.811707331518548, 0.028368229779800913 25.085505328888548, 2.1303850199873726 34.15154747369241" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(217.9501867371498 861.3333333333335) rotate(0 0.6704084677814421 17.803084351271423)"><path d="M8.708119295073178 13.58325118996597 C9.269039510843314 18.61166618722605, 4.528385962656239 24.17272328804695, 4.391156738376572 31.183136259127473 M8.955093913096805 17.502366201077397 C5.550174082016673 19.774513746132474, 6.395167357491021 24.369493764537573, 2.1303850199873726 34.15154747369241" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(264.8577529994808 452.7501140276818) rotate(0 346.1738416563264 26.949824929912552)"><path d="M-0.2949607051908969 2.751799730211496 C115.63121399040985 11.283783391442455, 580.347638142902 42.007057612769586, 696.2472897570412 49.84337604166005 M-3.8996064443886285 1.777322916537523 C111.6023733112809 10.688694490518726, 577.9700955861791 43.83696870548803, 694.0770169006865 52.1223269432876" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(264.8577529994808 452.7501140276818) rotate(0 346.1738416563264 26.949824929912552)"><path d="M669.1590184491574 60.53022553461719 C671.1194292827738 56.28446746792835, 680.3801089593028 53.72863777099609, 694.8128103943747 49.61006076187824 M663.4833746139407 59.52665578636456 C676.6733695548344 58.078448931034785, 687.5963441733219 55.68840016797846, 692.49343198484 50.89485411272381" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(264.8577529994808 452.7501140276818) rotate(0 346.1738416563264 26.949824929912552)"><path d="M670.6185210052943 40.06098386145132 C671.907935715976 42.45752053255502, 680.6947857201147 46.54706054415234, 694.8128103943747 49.61006076187824 M664.9428771700775 39.05741411319869 C677.7831758045919 44.984989219254885, 688.1807602549964 49.9634361659016, 692.49343198484 50.89485411272381" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(135.27317435875534 295.3333333333335) rotate(0 66.5 23.5)"><text x="0" y="12.666666666666666" font-family="Cascadia, Segoe UI Emoji" font-size="12.591715976331365px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">get written keys, </text><text x="0" y="28.333333333333332" font-family="Cascadia, Segoe UI Emoji" font-size="12.591715976331365px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">grouped by </text><text x="0" y="44" font-family="Cascadia, Segoe UI Emoji" font-size="12.591715976331365px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">account addresses</text></g><g transform="translate(306.27317435875534 901.3333333333335) rotate(0 100 7)"><text x="0" y="11" font-family="Cascadia, Segoe UI Emoji" font-size="11.38339920948617px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">commit &amp; get the new root hash</text></g><g transform="translate(105.27317435875534 71.33333333333348) rotate(0 95.5 26)"><path d="M-0.0751965269446373 2.18844785541296 C39.16909914407879 -3.482885514087975, 78.00687778629363 -4.577998076267541, 189.62304780632257 -2.8593410030007362 M1.4565363638103008 0.4668174870312214 C62.630287307314575 0.08792234722524883, 123.6483490113169 -2.2485717409476638, 191.97547717019916 -0.7415173165500164 M190.72165582329035 -3.9517539516091347 C187.04684103533626 14.891323653608561, 191.43672669932246 18.02800324857235, 193.12642023712397 48.43126621097326 M192.28324408456683 -0.5247938744723797 C190.79159361153842 10.93707950860262, 191.49812668591738 24.541763713210823, 191.70911772176623 53.821547377854586 M193.5364906564355 50.940476797521114 C134.28179334308953 50.983677787967025, 77.30075478218495 57.23428360957652, 2.241769291460514 48.445468090474606 M191.43781359121203 53.6998613961041 C116.47626878488808 48.81595478143543, 45.53066559843717 50.859702087305486, 1.323232363909483 53.749438274651766 M2.7660364881157875 51.34731783717871 C-1.3332970450818538 38.73017783686519, 1.2648253132402898 23.34365154504776, 2.529885984957218 0.12637986987829208 M-0.41288499906659126 53.62821005657315 C-0.7655333656072616 41.523606818914416, -1.202547349333763 31.394089793413876, 1.8401599638164043 -1.6383866183459759" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(119.27317435875534 636.3333333333335) rotate(0 60.5 42.5)"><path d="M58.064627148211 2.61707129329443 C73.67884823840112 12.062778807617724, 84.71647280987352 18.220068572089076, 119.91670296341181 39.16874685138464 M60.32530898973346 -0.009756576269865036 C75.68107089612633 10.113868887536228, 87.3105682714656 18.95936388485134, 119.53057868406177 44.563658345490694 M117.53978607803583 39.01377286761999 C101.84105372808874 54.58005744107068, 86.41104546196757 66.36842186897994, 63.66063783317804 84.6488453373313 M119.56194789335132 42.786759961396456 C98.80530315212906 58.78340238966048, 81.09925135917962 72.57784760668875, 59.79341311380267 85.84441636875272 M61.54244897514582 85.5544792637229 C37.19173057328909 69.5191783562675, 15.827812887430191 55.96796351265162, -3.637991689145565 41.503173254430294 M61.25645346567035 84.26524137333035 C39.68543774012477 67.85586325597018, 14.895463346987967 52.13295208845288, 0.21125776693224907 44.62366758659482 M-0.1322181448340416 44.697930715978146 C19.626738552302122 31.860765588134527, 39.56551511224359 14.40267760422081, 58.73004291206598 2.901408337056637 M1.4389770738780499 43.86233316734433 C16.280040654242043 32.40976670920848, 31.302535371370617 22.16659766990691, 60.294732760638 0.0450887568295002" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(139.27317435875534 667.3333333333335) rotate(0 37.5 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">next tx?</text></g><g><g transform="translate(127.34550236085988 664.4726070508634) rotate(0 -57.12745254752505 -223.7014085662946)"><path d="M-1.3642731152474878 1.172453888505697 C-20.552142259867555 -49.69140675482276, -112.43511031663202 -231.28198947574487, -116.15067594359257 -305.4727572861089 C-119.86624157055313 -379.66352509647294, -39.466392702956384 -421.01982241498297, -23.657666877010843 -443.9721529736786 M3.090597265809775 -0.6593820963799955 C-16.203843124003775 -52.30381947425129, -112.6237169494806 -234.9260970429161, -117.3455023608599 -309.57874519703523 C-122.0672877722392 -384.23139335115434, -40.1561009599759 -425.5270970042235, -25.240115202466033 -448.5752710210948" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(127.34550236085988 664.4726070508634) rotate(0 -57.12745254752505 -223.7014085662946)"><path d="M-36.894618379295636 -418.95392867999965 C-32.62160964174089 -428.05733660085065, -29.05192279301809 -431.7672990106464, -21.679284154871485 -451.69977258470345 M-39.997274889022876 -423.2863097235828 C-36.46246698164573 -430.0892223551626, -31.074784461206033 -439.5500487174749, -26.18046721393802 -448.3072167853682" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(127.34550236085988 664.4726070508634) rotate(0 -57.12745254752505 -223.7014085662946)"><path d="M-51.0517626721812 -433.8097446406347 C-43.079814770249996 -438.86146159888574, -35.780459138278474 -438.65769169856355, -21.679284154871485 -451.69977258470345 M-54.15441918190844 -438.14212568421783 C-45.78611196163963 -440.13497776377693, -35.7318725966543 -444.698947230504, -26.18046721393802 -448.3072167853682" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(208.27317435875534 723.3333333333335) rotate(0 9.5 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">no</text></g><g transform="translate(626.939841025422 676.6666666666667) rotate(0 89.49999999999994 50.5)"><path d="M1.7050434574484825 0.15273449569940567 C60.15871192198247 1.6497703957930208, 130.21652925126256 -2.927468879185617, 178.27574672549963 -0.4298134073615074 M-0.2548496834933758 -1.8490719087421894 C37.384527411498134 -1.1422021197155114, 74.21456689052285 -1.0390816735103723, 179.07235704734921 0.7470325939357281 M175.69950809329748 1.955171562731266 C180.29111002292484 28.01581852901726, 181.4577925046906 63.29812229461966, 178.01522936671972 101.13676092773672 M178.63011442497373 1.2534079067409039 C179.09176352638752 35.0694183161482, 181.43674984592946 68.21057444699105, 179.05215834453702 102.73544914647933 M178.40975489467382 97.27852080017324 C126.97908529955893 101.94681554611768, 75.46457628794013 102.23845749672498, -0.6899062171578407 102.53699157387014 M177.1963109858334 99.12759716436263 C126.00454721357673 98.9396862705424, 71.14822121597825 100.11190614301707, 0.850032914429903 100.93881244584914 M-0.47110090404748917 104.48826072365041 C-0.30069337274879304 78.33429866861549, 3.7673715553060165 57.597794194146964, 0.06439270824193954 -3.699580453336239 M-0.6118019931018353 100.70599098131056 C-0.8927156423404807 68.77443044725803, -1.2343824600055808 33.95683399401604, -0.6325299851596355 -0.8549136407673359" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(641.2731743587555 683.8333333333335) rotate(0 30.5 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">commit</text></g><g><g transform="translate(807.2687883938431 730.8057092001713) rotate(0 82.3120264784493 -75.71957556813067)"><path d="M-0.3927518285810949 -2.523517438024282 C27.06324415905603 -27.806573736962687, 135.75492398954074 -128.5243118648579, 163.09239657019543 -153.71741327894932 M-4.050484177619219 2.2782621426880363 C24.484541001352945 -22.38669922242265, 141.11651375608284 -124.85135777700448, 168.6745371345179 -150.37023286892182" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(807.2687883938431 730.8057092001713) rotate(0 82.3120264784493 -75.71957556813067)"><path d="M150.94705618090356 -126.05971122892947 C157.59905761882194 -131.63586439784947, 161.05722718337557 -136.65693260984315, 170.97391757850812 -148.97682101650244 M152.9599960773381 -123.43797043698282 C159.6637338323365 -131.1693982480716, 162.44085288488031 -135.0336301863379, 169.89325946678684 -149.42453191427595" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(807.2687883938431 730.8057092001713) rotate(0 82.3120264784493 -75.71957556813067)"><path d="M137.23776608665023 -141.32979202430994 C146.9776047193525 -143.18280380473846, 153.74383609149567 -144.51919026219116, 170.97391757850812 -148.97682101650244 M139.25070598308477 -138.7080512323633 C148.88696487322335 -142.88200229009757, 154.88012165877043 -143.1640534089108, 169.89325946678684 -149.42453191427595" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(599.2731743587553 249.6666666666668) rotate(0 107.66666666666674 39.00000000000003)"><path d="M-1.4749014599307204 -3.4827499158297854 C52.41101090931608 -1.499530199306665, 99.70626450598904 -3.3610734416701176, 212.64007305519132 1.8634657987790726 M1.111120577645285 1.6970931155728737 C56.26642692006302 0.2149122380232523, 110.62383963863584 -0.3952305438338089, 214.6779765460588 1.65787346243333 M211.8344383065901 0.8381640687584877 C218.52266288486638 24.609381168708218, 212.68546200481572 51.255331239849355, 212.91194699456312 75.26004121452573 M217.28605134164312 -0.3490208871662617 C214.65063684461035 30.251900685951124, 213.41315322396673 61.80650801956656, 216.63646669064977 77.55029101297262 M218.31495836299763 75.08236691674031 C149.62020871661807 75.15384022199139, 80.96081011778186 75.78765797781519, 1.3602549296838606 80.68706756966094 M214.3760242333765 78.89034317537887 C149.12741038361983 73.9614131482565, 86.47972700777215 73.26460392770619, -1.6861841856625237 78.37935148428461 M-1.8220766559243202 76.53774187713864 C-1.3275978583842516 52.277515802159925, 3.2282829266041517 19.572198479622607, 3.4503020271658897 -2.470846675336361 M-0.96254588291049 78.9476860277355 C0.39941661350429003 49.777392873540535, -2.657288503721357 24.732416339218624, 0.797392476350069 -1.0677741058170795" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(619.2731743587553 260.1666666666668) rotate(0 24 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">write</text></g><g transform="translate(617.2731743587553 294.6666666666668) rotate(0 89 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">update tx write log</text></g><g transform="translate(601.6065076920887 350.66666666666686) rotate(0 98.00000000000006 58.00000000000006)"><path d="M-2.5319396033883095 -3.256595157086849 C79.02475007399917 4.109716772586108, 156.79618431925775 4.161543964892626, 194.28742852061987 -3.5378811582922935 M1.7214280255138874 -0.9477804191410542 C55.290567198395735 3.4902590739727017, 108.86811777874829 3.4379649388790128, 197.3795635588467 0.912549089640379 M193.43842377513647 -1.8459503874182701 C192.0004919333756 42.078044541925216, 193.4015112681687 91.09356931746011, 194.16809310764074 112.02239892631775 M196.78512977436185 -1.0006617791950703 C198.0427590700984 25.019152908027184, 198.38001299828292 55.337379918247485, 194.39100776985288 116.33605856820947 M194.4910243973136 116.23868272453552 C120.19896489456295 114.84582285746937, 38.324286678433396 118.20842580661183, 1.040907047688961 113.62409899383789 M195.3605083115399 115.09670634195214 C133.9874277934432 114.13910862892872, 69.19722157344222 112.22793540447957, 1.2033133395016193 117.13821108266717 M-1.4232100024819374 112.22997019439941 C-0.6768534113466749 87.10906445458535, -5.277283661514522 65.1348643422127, -1.6822644248604774 3.4139475598931313 M-1.549384605139494 117.65572531148797 C-1.315615299344063 74.97269794344905, 0.43093275725841496 32.07221375778319, -1.8484367243945599 -1.8891232497990131" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(615.6065076920886 354.66666666666686) rotate(0 22.5 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">read</text></g><g><g transform="translate(310.27317435875534 239.9230648473955) rotate(0 142.17613588596396 58.83896160490127)"><path d="M-0.9981039680540562 -2.6766419373452663 C46.38432515222168 17.553959639591678, 236.99835967512607 100.12589507859303, 285.35037573998187 120.35456514714781 M3.6555439500510696 2.042012915164232 C50.4804800957276 21.44923761399856, 235.05202805272418 95.73881678443504, 282.5787612259886 115.59036017833773" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(310.27317435875534 239.9230648473955) rotate(0 142.17613588596396 58.83896160490127)"><path d="M248.77827045563993 113.00441450542127 C263.36529863538664 118.99379870105183, 271.11838435614743 112.25015947225322, 278.8739233300588 119.36028575031582 M253.1977511035317 113.75476888856207 C264.1605057547368 115.60143166431844, 273.2484798358328 113.68918600394258, 280.90663504083966 116.3872768531603" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(310.27317435875534 239.9230648473955) rotate(0 142.17613588596396 58.83896160490127)"><path d="M256.551085196147 94.01222259938802 C268.37357941308596 106.35999151352753, 273.501729793184 106.03015184063392, 278.8739233300588 119.36028575031582 M260.9705658440388 94.76257698252883 C269.25688663041575 103.38652652424668, 275.60935751149765 108.1582432981597, 280.90663504083966 116.3872768531603" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(106.27317435875534 285.3333333333335) rotate(0 92.5 35)"><path d="M2.9413525089621544 -1.9730398878455162 C52.71310848835856 -2.6577281253412366, 103.56948208250105 1.5515316231176257, 183.1037305817008 1.1789092794060707 M-1.2089111916720867 0.6478667967021465 C71.15358983259648 0.8439370090141893, 139.99776886589825 1.4454095060005785, 186.72577844932675 1.051527451723814 M188.07924976199865 -1.5347385630011559 C181.76313276328148 14.641171036288142, 187.45386309660972 30.870768684893847, 184.5921145901084 68.96337912231684 M183.62484442070127 -0.1349683292210102 C185.45038869865238 24.44153573177755, 183.34487452991306 48.395919889211655, 183.3828868754208 70.3323634378612 M187.3196479305625 73.72525618225336 C131.82271531876177 70.0512451576069, 83.47241204045712 72.5590736316517, -0.10240087658166885 71.00728652626276 M184.2277231104672 71.4222653619945 C133.55470864940435 68.3950122764334, 85.63314758799969 68.66324044968933, -0.4915408007800579 70.83400554582477 M2.2306622490286827 66.29742286354303 C0.8558356013149022 52.86764766462147, -0.6067391190677882 37.93736129626632, -1.2007630839943886 -2.0348274931311607 M-0.3933171145617962 68.18956298753619 C0.3954675402492285 49.18885708041489, -1.6818560156971216 24.229849629104137, -0.9335153214633465 -1.718082357198" stroke="#000000" stroke-width="1" fill="none"></path></g><g><g transform="translate(191.27317435875534 356.3333333333335) rotate(0 -4.371461924165487 15.638189388662624)"><path d="M0.9374134100973603 1.882718809694052 C-0.5266787571211657 6.056381670882304, -7.926976343244314 23.358268587042886, -9.680337258428334 27.84019840583205 M-1.998229237943888 0.4364552105963231 C-2.4663386342426143 6.1744531414409485, -2.481982439110677 25.619015021870535, -4.190529304891825 30.83992356672883" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(191.27317435875534 356.3333333333335) rotate(0 -4.371461924165487 15.638189388662624)"><path d="M-5.212773405031135 14.304403811556096 C-7.371149387908903 18.33665792871162, -5.551458732492739 26.913093168837545, -3.521985435574481 28.844862336466257 M-6.28292381656717 15.975688729409889 C-7.4244170223852315 19.23260292048455, -5.047808841095473 23.707804200468527, -5.335877216664468 30.68875486902932" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(191.27317435875534 356.3333333333335) rotate(0 -4.371461924165487 15.638189388662624)"><path d="M4.967997367893371 15.793294659747648 C0.051337473303931125 19.494683064907544, -0.8574968830378666 27.672084085554506, -3.521985435574481 28.844862336466257 M3.897846956357337 17.46457957760144 C0.1258993714051002 20.314506997737404, -0.14444741593962696 24.402603301460044, -5.335877216664468 30.68875486902932" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(296.27317435875534 323.0284696555808) rotate(0 111.3473848270873 15.582308724243148)"><path d="M-2.368202082067728 -2.6827034913003445 C34.514414212687136 2.3449007520141594, 182.42355778507056 25.106710463296565, 219.9531047744055 30.659206114895575 M1.541678288429976 2.0326608033478264 C39.39737940806481 7.424513494080542, 188.44328608901958 28.638337053985587, 225.0629717362423 33.84732093978666" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(296.27317435875534 323.0284696555808) rotate(0 111.3473848270873 15.582308724243148)"><path d="M191.8754161101672 36.633819818713725 C201.92390626076403 39.65095662434923, 209.2843925561373 36.64440763815044, 224.09483580564452 36.95781505424522 M196.27486578271717 38.468963477977574 C205.6376014809029 37.58324269493641, 217.13873205636142 33.926754775165314, 226.09689642389608 34.42591867540025" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(296.27317435875534 323.0284696555808) rotate(0 111.3473848270873 15.582308724243148)"><path d="M194.76639533561337 16.317268893325874 C204.1578409956083 24.40629442152894, 210.78965525385635 26.52053717947568, 224.09483580564452 36.95781505424522 M199.16584500816333 18.152412552589723 C207.10247980807094 24.716535316392413, 217.543965383295 28.50677389697328, 226.09689642389608 34.42591867540025" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g><g transform="translate(256.27317435875534 407.26524065794626) rotate(0 168.21540057937312 4.336023305387982)"><path d="M-2.6082580290734767 1.5766785942018027 C53.3657897403671 3.1655720791822315, 277.4494043890802 7.977672719759565, 333.5857540485761 8.707767732653405 M1.1713062559068206 -0.03572112187743226 C58.25854926981862 0.7608182339475196, 283.9355446590153 2.881309425138258, 339.0390591878197 4.240144160601881" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(256.27317435875534 407.26524065794626) rotate(0 168.21540057937312 4.336023305387982)"><path d="M312.94144876108714 11.555687866741021 C318.3942161494091 10.823247109486635, 320.6831408263156 8.805942965501762, 342.37925076817487 6.627919484886911 M312.28097848774144 13.995123196029265 C316.0542576674979 13.334029847842771, 323.57188299821973 10.674802990002007, 340.3912492763004 3.8079052130017548" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(256.27317435875534 407.26524065794626) rotate(0 168.21540057937312 4.336023305387982)"><path d="M313.2670037569421 -8.96293821617482 C318.52736425439326 -5.2009272752197955, 320.744882309716 -2.717714496482089, 342.37925076817487 6.627919484886911 M312.60653348359637 -6.523502886886575 C316.16828979305575 -2.9272903169530995, 323.61834066165096 -1.3275282519264175, 340.3912492763004 3.8079052130017548" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(292.27317435875534 437.3333333333335) rotate(0 75 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">read prior state</text></g><g transform="translate(295.27317435875534 377.3333333333335) rotate(0 65.5 10)"><text x="0" y="16" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">read posterior</text></g><g transform="translate(77.27317435875534 145.33333333333348) rotate(0 114 287)"><path d="M1.7587184022229163 1.627436902401593 C56.57772735321269 0.5416397644551685, 111.58796010976582 -3.6468314352260176, 228.83559484740144 -2.368900285802123 M227.6005982965231 0.4803714662790299 C228.21342383745312 178.96857755593956, 226.87988931062816 356.75755574032667, 227.31376424729825 575.113981333375 M226.51112343467025 573.0817213678592 C154.62490368741447 572.4648138187486, 87.54328865929631 575.1737129575287, 2.868838004650399 574.7446856794144 M1.3621018022298814 573.6160954385996 C-4.696606834441424 422.7778086800128, -3.1426871376335623 272.88414167240256, 0.5907554239034652 1.1550672441720964" stroke="#0b7285" stroke-width="1.5" fill="none" stroke-dasharray="3 6"></path></g><g><g transform="translate(283.93106909559754 899.5696098294868) rotate(0 164.25179556886343 -80.8977576685594)"><path d="M0.8826962031424044 -1.771578112989664 C55.523914942228075 -29.38237779952242, 276.0712541087631 -138.0290196834581, 330.58624120925833 -165.23391243843162 M-2.082650071531534 3.4383971013128756 C52.09632339078514 -23.85415750172887, 274.66973184557395 -134.6968527539151, 329.2998108071582 -162.35585221169316" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(283.93106909559754 899.5696098294868) rotate(0 164.25179556886343 -80.8977576685594)"><path d="M306.1707205302235 -138.0408864801639 C314.851766347957 -150.58125702552576, 323.37897034341216 -157.44205056710018, 329.82288112019467 -161.2287716296109 M308.61412315211857 -140.55292498300608 C312.52854694266057 -145.39484155829723, 316.27561821587676 -150.54429575606667, 327.65945946325826 -163.7555736069175" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(283.93106909559754 899.5696098294868) rotate(0 164.25179556886343 -80.8977576685594)"><path d="M296.97007948048395 -156.38395619762633 C309.3677695322011 -161.68511699624653, 321.55516228962193 -161.24869099878586, 329.82288112019467 -161.2287716296109 M299.413482102379 -158.89599470046852 C305.78650250427 -159.33044100799916, 311.6742817996378 -160.21202340392614, 327.65945946325826 -163.7555736069175" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(1344.2731743587553 392.0000000000002) rotate(0 38.33333333333337 75.00000000000006)"><path d="M1.6362771764397621 0.7355839237570763 C19.50767096939187 -3.3762577574700123, 31.427869999160386 -4.518542866036297, 80.57788647959633 -1.5084100738167763 M1.866445492953062 -0.8096096627414227 C29.11184615703922 0.11173626718421703, 60.745380823810926 -1.9475704735765862, 77.05661152924104 -0.9715386740863323 M73.07145299265785 -0.5592580810189247 C75.70228290619953 39.048854844644694, 81.00909209313495 72.4600912444294, 73.90667547533913 146.46520342677843 M74.80996560181184 -0.8171016089618206 C75.84477941008909 60.1137534026057, 74.6976480862747 118.31742411851893, 76.14750229443116 149.4165878184141 M78.6238137657444 151.44761957973253 C58.954166396831496 151.68944393110783, 44.216625045985 149.2507873625806, 2.6732060685753822 148.33013620227587 M75.00635563458009 149.12617014721047 C49.183654223258316 149.71147146237405, 22.694155173997096 150.38079478753122, 0.6180940382182598 150.01731883361947 M1.3541505113244057 148.19933214038622 C0.9414021912962207 106.58495965413758, -2.331149583682417 60.257597360760016, -3.3143348917365074 -2.2595590129494667 M-0.2720455415546894 150.08966361358773 C-1.8052575346082462 101.1615903507919, -2.041980838403107 54.19017068296675, 1.304527711123228 -1.1428563706576824" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1364.2731743587556 450.66666666666686) rotate(0 17 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">DB</text></g><g transform="translate(1130.939841025422 18.6666666666668) rotate(0 118.33333333333337 107.5)"><path d="M123.55222172221275 0.4998285979534529 C137.37940272263216 -0.6838243790914735, 154.1022317123469 3.1340042329195557, 167.37957567638142 7.994514265788538 C180.65691964041594 12.855024298657522, 193.2389547359967 20.586949527501055, 203.21628550641987 29.662888795167348 C213.19361627684302 38.73882806283364, 221.9450125018644 50.266291334994214, 227.24356029892039 62.4501498717863 C232.54210809597637 74.63400840857838, 234.29860466216948 89.2641526791519, 235.00757228875582 102.76604001591987 C235.71653991534217 116.26792735268783, 235.83991450052224 131.4369285185987, 231.4973660584384 143.4614738923941 C227.15481761635453 155.48601926618952, 218.13948572929888 165.13672707648192, 208.9522816362528 174.91331225869237 C199.7650775432067 184.68989744090283, 189.07293723463317 195.65369403222755, 176.3741415001619 202.12098498565683 C163.67534576569062 208.58827593908612, 146.8043156967597 212.2696364151846, 132.7595072294251 213.71705797926808 C118.71469876209053 215.16447954335155, 105.51991615309882 213.83087487372035, 92.1052906961544 210.80551437015762 C78.69066523920998 207.7801538665949, 64.32158880988223 202.76825647267557, 52.27175448775857 195.56489495789174 C40.22192016563492 188.3615334431079, 28.045470196103608 178.18870802020706, 19.806284763412478 167.58534528145464 C11.56709933072135 156.9819825427022, 6.115528032635845 144.69822828939593, 2.836641891611805 131.9447185253772 C-0.44224424941223583 119.19120876135847, -1.7967474450047856 104.31932081061544, 0.13296791726823187 91.06428669734228 C2.0626832795412495 77.80925258406913, 7.445903307571001 63.564947011299964, 14.41493406524991 52.41451384573827 C21.383964822928817 41.264080680176576, 30.61183040224911 31.75506832880517, 41.94715246334168 24.161687703972134 C53.28247452443425 16.5683070791391, 64.79523937498324 10.135014322198506, 82.42686643180534 6.854230096740068 C100.05849348862743 3.57344587128163, 133.2174435791932 3.671075057207723, 147.73691480427425 4.476982351221508 C162.2563860293553 5.282889645235294, 169.83184493355546 9.978826491114292, 169.54369378229168 11.68967386082278 M177.7413526888147 13.65370827321965 C189.45623103996266 19.00187829421447, 201.65669206126836 31.66366733448671, 210.5906596686886 42.01127607201302 C219.52462727610884 52.358884809539326, 226.66857506532784 63.2604450727844, 231.3451583333361 75.73936069837748 C236.02174160134433 88.21827632397057, 240.1488939235509 103.2893445000265, 238.65015927673807 116.88476982557152 C237.15142462992523 130.48019515111653, 228.77129195270095 145.48170671665815, 222.35275045245913 157.3119126516476 C215.93420895221732 169.14211858663703, 210.88497718215615 179.49939299394208, 200.13891027528717 187.8660054355082 C189.3928433684182 196.23261787707435, 171.9506873364919 203.09738204154925, 157.87634901124522 207.51158730104433 C143.80201068599854 211.9257925605394, 129.69627075700635 214.19556240453784, 115.69288032380702 214.35123699247873 C101.68948989060769 214.50691158041963, 87.04709142632478 212.77366327570806, 73.85600641204923 208.44563482868972 C60.66492139777367 204.11760638167138, 46.91701667806688 197.52726245192412, 36.546370238153656 188.38306631036866 C26.175723798240433 179.2388701688132, 17.96466141841749 165.2552256798646, 11.632127772569888 153.58045797935708 C5.299594126722288 141.90569027884956, -0.5757235404886506 130.9853692988874, -1.448831636931942 118.33446010732354 C-2.3219397333752334 105.68355091575967, 2.110541331401838 90.88065426855593, 6.393479193910139 77.67500282997385 C10.67641705641844 64.46935139139177, 15.672927697910065 48.99799575895242, 24.24879553811786 39.100551475831054 C32.82466337832565 29.203107192709687, 45.14143936681846 24.99176865468434, 57.84868623515691 18.290337131245664 C70.55593310349536 11.58890560780699, 86.76600278206188 1.8615926263227727, 100.49227674814858 -1.1080376648009889 C114.21855071423529 -4.077667955924751, 127.35485135709696 -2.024047619031523, 140.2063300316772 0.47255538450309587 C153.05780870625745 2.9691583880377146, 170.6403239422407 10.990175367237377, 177.60114879563 13.871580356406724 C184.56197364901928 16.75298534557607, 182.51289378694435 15.935218091630611, 181.97127915201293 17.76098531951918" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1224.2731743587556 111.33333333333343) rotate(0 21 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">RPC</text></g><g><g transform="translate(1230.939841025422 235.33333333333348) rotate(0 -19.101095480173854 91.05340986256797)"><path d="M-1.2067369140684603 0.8024210013449191 C-7.77594590956966 31.459443607346874, -34.99628062223395 153.39363970069417, -41.53584407940507 183.33710970456397 M3.3336531190574172 -1.2302899794280528 C-2.1156841456393387 28.675050287859303, -28.329861421932772 148.5415241051548, -35.96759697154164 179.2332533800105" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1230.939841025422 235.33333333333348) rotate(0 -19.101095480173854 91.05340986256797)"><path d="M-38.47241830094204 147.26219932110672 C-36.54225054396358 155.53120581054878, -39.82895629799672 160.33048583385184, -33.814374984353776 181.41179692531622 M-39.023888256535386 151.25597287462716 C-36.69874372370081 156.98275923556366, -38.1402513877641 167.04963712305323, -37.79282078623771 177.85449418584503" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1230.939841025422 235.33333333333348) rotate(0 -19.101095480173854 91.05340986256797)"><path d="M-18.477933574866142 151.88178619923306 C-21.011857647731595 158.94243925631056, -28.782619301993215 162.70570929579713, -33.814374984353776 181.41179692531622 M-19.02940353045949 155.8755597527535 C-22.932783244231956 159.77345882287796, -30.61030849310402 168.3995481428593, -37.79282078623771 177.85449418584503" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(1067.6065076920886 298.0000000000002) rotate(0 66 13)"><text x="0" y="18" font-family="Virgil, Segoe UI Emoji" font-size="20px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">read storage</text></g><g><g transform="translate(1237.3235945268225 478.5904998043703) rotate(0 51.52635188088743 -5.187863858819696)"><path d="M1.7135242976248266 1.5313706479966642 C18.988456402722083 -0.16031883682830972, 87.05298139007431 -10.298659562370373, 103.85350477324774 -11.907098365636102 M-0.8008010114729407 -0.10562481030821758 C16.154354892376148 -1.3409914121630175, 85.17666303516965 -7.288635831476444, 102.04573693828632 -9.388259788067572" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1237.3235945268225 478.5904998043703) rotate(0 51.52635188088743 -5.187863858819696)"><path d="M30.48470461525581 -11.240267997465178 C17.03154349544907 -8.552260405826818, 14.274089238343997 -0.5071025717552438, -1.5597997374832628 2.906871945410967 M27.497637724211433 -11.946165600649163 C21.21024670262426 -9.252498164238919, 15.73641409474088 -4.869609414893761, 1.542476084828377 0.8630907505750658" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1237.3235945268225 478.5904998043703) rotate(0 51.52635188088743 -5.187863858819696)"><path d="M33.202569089073506 9.100165013849974 C19.1695224054897 5.571177133688531, 15.576915750227638 7.366074304435029, -1.5597997374832628 2.906871945410967 M30.215502198029125 8.39426741066599 C23.20790255160902 6.645943626267064, 17.13456832518434 6.542176536226057, 1.542476084828377 0.8630907505750658" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1237.3235945268225 478.5904998043703) rotate(0 51.52635188088743 -5.187863858819696)"><path d="M77.22914848601113 4.811849417759483 C80.58106303393696 -1.4439764768567454, 94.29019643460606 -1.686766815877367, 98.77241290317824 -8.012758490653269 M74.24208159496675 4.105951814575498 C79.61492399130417 -0.030406279375058354, 85.96138427184782 -1.5968967752071515, 101.87468872548988 -10.05653968548917" stroke="#000000" stroke-width="1" fill="none"></path></g><g transform="translate(1237.3235945268225 478.5904998043703) rotate(0 51.52635188088743 -5.187863858819696)"><path d="M75.1470639140056 -15.603461655571145 C78.88256024031399 -15.611501752354233, 93.23148195280925 -9.581022704228563, 98.77241290317824 -8.012758490653269 M72.15999702296122 -16.30935925875513 C78.11325321770161 -15.976761437044775, 84.91897593862143 -13.040079626314379, 101.87468872548988 -10.05653968548917" stroke="#000000" stroke-width="1" fill="none"></path></g></g><g transform="translate(1252.6065076920886 253.0000000000001) rotate(0 244 39)"><text x="0" y="15.5" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">From the RPC storage PoV, a block should be atomic. </text><text x="0" y="35" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">The RPC shouldn't see any changes applied </text><text x="0" y="54.5" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">in between "begin block" and "end block"</text><text x="0" y="74" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">until the block is committed.</text></g><g transform="translate(640.939841025422 714.0000000000001) rotate(0 74.99999999999994 29.5)"><text x="0" y="15.666666666666668" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">commit all write</text><text x="0" y="35.333333333333336" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">log changes </text><text x="0" y="55" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">in order</text></g><g transform="translate(545.4398410254217 84.16666666666725) rotate(0 169.00000000000006 29.5)"><text x="0" y="15.666666666666668" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">There are two levels of write log,</text><text x="0" y="35.333333333333336" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">one for the current block and one of</text><text x="0" y="55" font-family="Cascadia, Segoe UI Emoji" font-size="16px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">current transaction.</text></g></svg>